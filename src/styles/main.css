/* ========= Tokens (Vercel-inspired) ========= */
:root{
  --bg:#ffffff; --panel:#fafafa; --card:#ffffff; --text:#171717; --muted:#737373;
  --border:#e5e5e5; --radius:8px; --radius-lg:12px;
  --brand:#000000; --accent:#8b5cf6;
  --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.05);
  --shadow-md:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
  --shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);
  /* Unit scale (seconds→years) — modern colors */
  --c-seconds:#3b82f6; --c-minutes:#06b6d4; --c-hours:#10b981;
  --c-days:#82c55e; --c-weeks:#f59e0b; --c-months:#f97316; --c-years:#ef4444;
  /* Buttons: black in light */
  --btn-bg:#000000; --btn-fg:#ffffff; --btn-border:transparent;
  --btn-hover-bg:#171717;
  --focus: 0 0 0 3px rgba(0,0,0,0.1);
  --transition:all 0.15s cubic-bezier(0.4,0,0.2,1);
}
[data-theme="dark"]{
  --bg:#0a0a0a; --panel:#171717; --card:#262626; --text:#fafafa; --muted:#a3a3a3;
  --border:#404040; --radius:8px; --radius-lg:12px;
  --brand:#ffffff; --accent:#a78bfa;
  --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.3);
  --shadow-md:0 4px 6px -1px rgba(0,0,0,0.4),0 2px 4px -1px rgba(0,0,0,0.3);
  --shadow-lg:0 10px 15px -3px rgba(0,0,0,0.5),0 4px 6px -2px rgba(0,0,0,0.4);
  --c-seconds:#60a5fa; --c-minutes:#22d3ee; --c-hours:#34d399;
  --c-days:#8ade80; --c-weeks:#f5ae0b; --c-months:#fb823c; --c-years:#f87171;
  /* Buttons: white in dark */
  --btn-bg:#ffffff; --btn-fg:#000000; --btn-border:transparent;
  --btn-hover-bg:#e5e5e5;
  --focus: 0 0 0 3px rgba(255,255,255,0.2);
}

/* ========= Base/Layout ========= */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
  color:var(--text);
  background:var(--bg);
  transition:var(--transition);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
.wrap{
  max-width:1280px;
  margin:0 auto;
  padding:32px 24px;
}
@media (max-width:768px){
  .wrap{padding:24px 16px}
}
header{
  display:flex;
  gap:20px;
  align-items:center;
  justify-content:space-between;
  margin-bottom:32px;
  padding-bottom:24px;
  border-bottom:1px solid var(--border);
  position:sticky;
  top:0;
  background:var(--bg);
  z-index:100;
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  margin-top:-32px;
  padding-top:32px;
  transition:var(--transition);
}
@media (max-width:768px){
  header{
    flex-direction:column;
    align-items:flex-start;
    gap:16px;
    position:relative;
    margin-top:0;
    padding-top:0;
  }
}
.title{display:flex;gap:12px;align-items:center}
.logo{font-size:32px;line-height:1}
h1{
  font-size:24px;
  font-weight:600;
  letter-spacing:-0.02em;
  margin:0;
  line-height:1.2;
}
.muted{
  color:var(--muted);
  font-size:14px;
  font-weight:400;
}

.grid{
  display:grid;
  grid-template-columns:minmax(280px,360px) minmax(0,1fr);
  gap:24px;
}
@media (max-width:1024px){
  .grid{grid-template-columns:1fr;gap:20px}
}

.panel{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow-sm);
  transition:var(--transition);
  overflow:hidden;
}
.panel:hover{
  box-shadow:var(--shadow-md);
}
.panel .hd{
  padding:20px 24px;
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  background:var(--panel);
}
.panel .hd strong{
  font-size:16px;
  font-weight:600;
  letter-spacing:-0.01em;
}
.panel .bd{
  padding:24px;
}
@media (max-width:768px){
  .panel .hd{padding:16px 20px}
  .panel .bd{padding:20px}
}

form .field{
  display:grid;
  gap:8px;
  margin-bottom:20px;
}
label{
  font-size:13px;
  font-weight:500;
  color:var(--text);
  letter-spacing:-0.01em;
}
input[type="text"],input[type="date"],input[type="time"],select{
  background:var(--card);
  border:1px solid var(--border);
  color:var(--text);
  border-radius:var(--radius);
  padding:10px 14px;
  font-size:14px;
  width:100%;
  transition:var(--transition);
  font-family:inherit;
}
input[type="text"]:focus,input[type="date"]:focus,input[type="time"]:focus,select:focus{
  outline:none;
  border-color:var(--brand);
  box-shadow:var(--focus);
}
input[type="text"]:hover,input[type="date"]:hover,input[type="time"]:hover,select:hover{
  border-color:var(--muted);
}
input[type="checkbox"]{
  width:18px;
  height:18px;
  cursor:pointer;
  accent-color:var(--brand);
}
.row{
  display:flex;
  gap:12px;
}
.row>*{flex:1}
@media (max-width:640px){
  .row{flex-direction:column;gap:0}
  .row .field{margin-bottom:20px}
}

.chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}
.chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  background:var(--panel);
  border:1px solid var(--border);
  padding:8px 14px;
  border-radius:999px;
  font-size:13px;
  font-weight:500;
  user-select:none;
  cursor:pointer;
  transition:var(--transition);
}
.chip:hover{
  background:var(--card);
  border-color:var(--brand);
  transform:translateY(-1px);
  box-shadow:var(--shadow-sm);
}
.chip input{
  accent-color:currentColor;
  cursor:pointer;
}

/* Unit color on checkbox/label */
.chip.unit.seconds{color:var(--c-seconds)}
.chip.unit.minutes{color:var(--c-minutes)}
.chip.unit.hours{color:var(--c-hours)}
.chip.unit.days{color:var(--c-days)}
.chip.unit.weeks{color:var(--c-weeks)}
.chip.unit.months{color:var(--c-months)}
.chip.unit.years{color:var(--c-years)}
.chip input:checked + span{font-weight:700}

/* Buttons (modern Vercel-style) */
.btn{
  appearance:none;
  cursor:pointer;
  font-weight:500;
  border-radius:var(--radius);
  padding:10px 16px;
  font-size:14px;
  line-height:1.4;
  transition:var(--transition);
  font-family:inherit;
  letter-spacing:-0.01em;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
}
.btn.primary{
  background:var(--btn-bg);
  color:var(--btn-fg);
  border:1px solid var(--btn-border);
}
.btn.primary:hover:not(:disabled){
  background:var(--btn-hover-bg);
  transform:translateY(-1px);
  box-shadow:var(--shadow-md);
}
.btn.secondary{
  background:transparent;
  color:var(--text);
  border:1px solid var(--border);
}
.btn.secondary:hover:not(:disabled){
  background:var(--panel);
  border-color:var(--brand);
  transform:translateY(-1px);
}
.btn.ghost{
  background:transparent;
  color:var(--muted);
  border:none;
  padding:8px 12px;
}
.btn.ghost:hover:not(:disabled){
  background:var(--panel);
  color:var(--text);
}
.btn.small{
  padding:6px 12px;
  font-weight:500;
  font-size:12px;
  border-radius:999px;
}
.btn:disabled{
  opacity:0.5;
  cursor:not-allowed;
  transform:none !important;
}
.btn:active:not(:disabled){
  transform:translateY(0);
}
.btn:focus-visible{
  outline:none;
  box-shadow:var(--focus);
}

/* Segmented 3-way theme switch (modern pill) */
.seg{
  display:inline-flex;
  gap:0;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:999px;
  overflow:hidden;
  padding:4px;
  box-shadow:var(--shadow-sm);
}
.seg button{
  border:0;
  background:transparent;
  padding:6px 14px;
  cursor:pointer;
  font-size:13px;
  font-weight:500;
  color:var(--muted);
  line-height:1.2;
  border-radius:999px;
  transition:var(--transition);
  white-space:nowrap;
}
.seg button[aria-pressed="true"]{
  background:var(--card);
  color:var(--text);
  font-weight:600;
  box-shadow:var(--shadow-sm);
}
.seg button:hover:not([aria-pressed="true"]){
  color:var(--text);
}
.seg button:focus-visible{
  outline:none;
  box-shadow:var(--focus);
}

/* Results list */
.list{
  display:grid;
  gap:8px;
}
.year-sep{
  margin-top:24px;
  margin-bottom:12px;
  padding:12px 0;
  color:var(--muted);
  font-weight:600;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:0.1em;
  display:flex;
  align-items:center;
  gap:12px;
  position:sticky;
  top:80px;
  background:var(--bg);
  z-index:10;
  padding-top:16px;
  border-bottom:1px solid var(--border);
  padding-bottom:12px;
}
.year-sep:first-child{
  margin-top:0;
}
@media (max-width:768px){
  .year-sep{top:0}
}
.year-sep .y{
  flex:1;
  font-weight:600;
}
.year-sep .controls{
  display:flex;
  gap:6px;
  opacity:0;
  transition:var(--transition);
}
.year-sep:hover .controls{
  opacity:1;
}
@media (max-width:768px){
  .year-sep .controls{opacity:1}
}
.item{
  display:flex;
  gap:16px;
  align-items:center;
  background:var(--card);
  border:1px solid var(--border);
  padding:16px;
  border-radius:var(--radius);
  transition:var(--transition);
  animation:fadeIn 0.3s cubic-bezier(0.4,0,0.2,1);
  position:relative;
}
.item::before{
  content:'';
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width:3px;
  background:var(--brand);
  border-radius:var(--radius) 0 0 var(--radius);
  opacity:0;
  transition:var(--transition);
}
.item:hover{
  border-color:var(--brand);
  box-shadow:var(--shadow-sm);
  transform:translateY(-2px);
}
.item:hover::before{
  opacity:1;
}
.item input[type="checkbox"]:checked ~ .grow .when{
  color:var(--brand);
}
.when{
  font-weight:600;
  font-size:15px;
  letter-spacing:-0.01em;
  line-height:1.4;
}
.when .since{
  font-weight:400;
  color:var(--muted);
  font-size:14px;
}
.sub{
  font-size:13px;
  color:var(--muted);
  margin-top:4px;
  line-height:1.4;
}
.grow{
  flex:1;
  min-width:0;
}
.item-actions{
  display:flex;
  align-items:center;
  gap:8px;
  margin-left:auto;
}
.btn-icon{
  background:transparent;
  border:1px solid var(--border);
  color:var(--muted);
  cursor:pointer;
  padding:6px;
  border-radius:var(--radius);
  display:flex;
  align-items:center;
  justify-content:center;
  transition:var(--transition);
  width:32px;
  height:32px;
  flex-shrink:0;
}
.btn-icon:hover{
  background:var(--panel);
  border-color:var(--brand);
  color:var(--text);
  transform:scale(1.05);
}
.btn-icon:active{
  transform:scale(0.95);
}
.btn-icon:focus-visible{
  outline:none;
  box-shadow:var(--focus);
}
.tag{
  font-size:11px;
  color:#fff;
  padding:4px 10px;
  border-radius:999px;
  font-weight:600;
  white-space:nowrap;
  letter-spacing:0.02em;
  text-transform:uppercase;
}
.tag.years{background:var(--c-years)}
.tag.months{background:var(--c-months)}
.tag.weeks{background:var(--c-weeks)}
.tag.days{background:var(--c-days)}
.tag.hours{background:var(--c-hours)}
.tag.minutes{background:var(--c-minutes)}
.tag.seconds{background:var(--c-seconds)}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(4px)}
  to{opacity:1;transform:translateY(0)}
}

.toolbar{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}
@media (max-width:640px){
  .toolbar{width:100%}
  .toolbar .btn{flex:1;min-width:0}
}
.toolbar .push-right{
  margin-left:auto;
}
@media (max-width:640px){
  .toolbar .push-right{margin-left:0;width:100%}
}

.empty{
  padding:48px 24px;
  background:var(--panel);
  border:1px dashed var(--border);
  border-radius:var(--radius-lg);
  text-align:center;
  color:var(--muted);
  font-size:14px;
  line-height:1.6;
}

/* Loading indicator */
.loading{
  display:inline-block;
  width:20px;
  height:20px;
  border:2px solid var(--border);
  border-top-color:var(--brand);
  border-radius:50%;
  animation:spin 0.6s linear infinite;
  margin-right:8px;
  vertical-align:middle;
}
@keyframes spin{
  to{transform:rotate(360deg)}
}

/* Field errors */
.field-error{
  display:block;
  margin-top:6px;
  font-size:12px;
  color:#ef4444;
  font-weight:500;
  line-height:1.4;
}
[data-theme="dark"] .field-error{color:#f87171}
input[aria-invalid="true"],select[aria-invalid="true"]{
  border-color:#ef4444;
  box-shadow:0 0 0 3px rgba(239,68,68,0.1);
}
[data-theme="dark"] input[aria-invalid="true"],[data-theme="dark"] select[aria-invalid="true"]{
  border-color:#f87171;
  box-shadow:0 0 0 3px rgba(248,113,113,0.2);
}

/* Pretty native-like select with chevron */
select{
  appearance:none;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23737373' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:16px;
  padding-right:36px;
  cursor:pointer;
}
select:hover{
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23171717' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
}
[data-theme="dark"] select{
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23a3a3a3' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
}
[data-theme="dark"] select:hover{
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23fafafa' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
}

/* Skip link for accessibility */
.skip-link{
  position:absolute;
  left:-9999px;
  z-index:999;
}
.skip-link:focus{
  position:fixed;
  top:10px;
  left:10px;
  background:var(--btn-bg);
  color:var(--btn-fg);
  padding:12px 16px;
  border-radius:var(--radius);
  text-decoration:none;
  font-weight:600;
  box-shadow:var(--shadow-lg);
  transition:var(--transition);
}
